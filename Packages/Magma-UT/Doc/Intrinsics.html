<html>
<head>
<title>Magma-UT Intrinsics</title>
</head>
<body>
<h2>Magma-UT Intrinsics</h2>
<h3>Statistics</h3>
Lines: 2501<br>
Commands: 1641<br>
Intrinsics: 153<br>
Source files: 26<br>
<h3>Intrinsics</h3>
<h4>AddDatabase(url::MonStgElt)</h4>
Adds a remote Git LFS database. It is cloned (without downloading binaries) as a submodule into the local Databases directory. The database is then added to the Config.txt file. A restart is necessary to register the database.
<h4>AddGitPackage(url::MonStgElt)</h4>
Clones a Git Package into the Packages directory.
<h4>AddPackage(dir::MonStgElt, pkgname::MonStgElt)</h4>
<h4>AddPackage(pkgname::MonStgElt)</h4>
<h4>AttachPackage(pkgname::MonStgElt)</h4>
<h4>Clear(M::Message_t)</h4>
Clears the message buffer of M.
<h4>CodesToString(code::SeqEnum[RngIntElt]) -> MonStgElt</h4>
The string defined by the (ASCII) code sequenc code.
<h4>CreateDatabase(dir::MonStgElt, dbname::MonStgElt)</h4>
Creates an empty database in the specified directory.
<h4>CreateDatabaseRecord(key::SeqEnum[MonStgElt]) -> Rec</h4>
<h4>CreatePackage(dir::MonStgElt, pkgname::MonStgElt)</h4>
Creates an empty package in the specified directory.
<h4>CreatePackage(pkgname::MonStgElt)</h4>
Creates an empty package in local package directory.
<h4>Date(: Format:="", UTC:=false) -> MonStgElt</h4>
The current date and time. Format can be a format specifier or "ISO".
<h4>DeleteDatabase(dbname::MonStgElt)</h4>
Deletes a Git LFS database which was cloned as a submodule. Use with caution.
<h4>DeleteDirectory(dir::MonStgElt)</h4>
Deletes file.
<h4>DeleteFile(file::MonStgElt)</h4>
Deletes file.
<h4>DeletePackage(pkgname::MonStgElt)</h4>
Deletes a package which was cloned as a submodule. Use with caution!
<h4>DetachPackage(pkgname::MonStgElt)</h4>
<h4>Dictionary() -> Dict</h4>
<h4>DirectoryExists(dir::MonStgElt) -> BoolElt</h4>
Returns true if directory exists, false otherwise.
<h4>DirectoryName(f::MonStgElt) -> MonStgElt</h4>
Returns the directory of a full file name
<h4>DirectorySeparator() -> MonStgElt</h4>
Either / under Unix or \ under Windows.
<h4>Download(file::MonStgElt, url::MonStgElt) -> RngIntElt</h4>
Downloads file from url and save it to file.
<h4>Download(url::MonStgElt) -> MonStgElt</h4>
Downloads url and returns contents as string.
<h4>ExistsInDatabase(key::SeqEnum[MonStgElt]) -> BoolElt, Rec</h4>
Check if object exists in database.
<h4>FileExists(file::MonStgElt) -> BoolElt</h4>
Returns true if file exists, false otherwise.
<h4>FileName(f::MonStgElt) -> MonStgElt</h4>
Returns the file name of a full file name, i.e., split off the directory
<h4>Flush(M::Message_t)</h4>
Flushes printing. Use this before destruction of M.
<h4>Get(D::Dict, key::.) -> .</h4>
<h4>GetBaseDir() -> MonStgElt</h4>
The Magma-UT base directory.
<h4>GetCPU() -> MonStgElt</h4>
The brand name of the CPU Magma is running on.
<h4>GetDatabaseDir(dbname::MonStgElt) -> MonStgElt</h4>
The database directory for a given database name as defined in Config.txt.
<h4>GetDatabaseDirs() -> MonStgElt</h4>
Sequence of database directories defined in Config.txt.
<h4>GetDatabaseNames() -> MonStgElt</h4>
Sequence of database names defined in Config.txt.
<h4>GetDownloadTool() -> MonStgElt</h4>
The download tool defined in Config.txt (or the one set automatically by the startup script).
<h4>GetEditor() -> MonStgElt</h4>
The editor defined in Config.txt.
<h4>GetFileSize(F::MonStgElt) -> RngIntElt</h4>
Returns the size of a file
<h4>GetFileType(file::MonStgElt) -> MonStgElt</h4>
<h4>GetFromDatabase(key::SeqEnum[MonStgElt]) -> ., Rec</h4>
Retrieve object from database. If the database is a Git LFS database and the file is not there yet, it will be downloaded.
<h4>GetHTMLViewer() -> MonStgElt</h4>
The HTML viewer defined in Config.txt.
<h4>GetHostname() -> MonStgElt</h4>
The name of the host Magma is running on.
<h4>GetOS() -> MonStgElt</h4>
Returns the operating system (Darwin/Linux/Windows_NT). Output should equal uname -s.
<h4>GetOSArch() -> MonStgElt</h4>
The operating system architecture.
<h4>GetOSType() -> MonStgElt</h4>
Returns the operating system type (Unix/Windows).
<h4>GetOSVersion() -> MonStgElt</h4>
More specific operating system name.
<h4>GetPOpenChunkSize() -> RngIntElt</h4>
The operating system architecture.
<h4>GetPackages() -> MonStgElt</h4>
List of spec files attached at startup.
<h4>GetPushoverToken() -> MonStgElt, MonStgElt</h4>
Returns the pushover token defined in Config.txt
<h4>GetSQLiteCommand() -> MonStgElt</h4>
The SQLite command defined in Config.txt.
<h4>GetTotalMemory() -> RngIntElt</h4>
The Magma-UT base directory.
<h4>GetUnixTool(name::MonStgElt) -> MonStgElt</h4>
Returns correct path to Unix tool for Windows (this is in Tools/UnixTools of the Magma-UT base directory).
<h4>GetVersionString() -> MonStgElt</h4>
Magma version as a string.
<h4>GitCloneRemote(url::MonStgElt, dir::MonStgElt : SkipLFS:=false)</h4>
Clone a remote Git repository at url into directory dir.
<h4>GitDeleteSubmodule(basedir::MonStgElt, submoduledir::MonStgElt)</h4>
In repository located in basedir delete the submodule lying (relatively) in submoduledir.
<h4>GitRepositoryVersion(dir::MonStgElt) -> MonStgElt</h4>
<h4>HumanReadableTime(t::FldReElt) -> MonStgElt</h4>
Prints a time in seconds in human readable format.
<h4>HumanReadableTime(t::RngIntElt) -> MonStgElt</h4>
Prints a time in seconds in human readable format.
<h4>IsDefined(D::Dict, key::.) -> BoolElt, .</h4>
<h4>IsGitInstalled() -> BoolElt</h4>
True iff Git is installed and can be executed on the command line.
<h4>IsGitLFSInstalled() -> BoolElt</h4>
True iff Git LFS extension is installed.
<h4>IsPushoverTokenDefined() -> BoolElt</h4>
True iff a Pushover token is set in Config.txt.
<h4>Keys(D::Dict) -> List</h4>
<h4>ListDirectories(dir::MonStgElt) -> SeqEnum</h4>
Array of all subdirectories in a directory (non-recursive).
<h4>ListFiles(dir::MonStgElt) -> SeqEnum</h4>
Array of all files in a directory (non-recursive).
<h4>MD5OfFile(file::MonStgElt) -> MonStgElt</h4>
MD5 sum of the file.
<h4>MD5OfString(str::MonStgElt) -> MonStgElt</h4>
MD5 sum of the given string. Note: as I assume the string may be big, I save it to a temporary file, and then take md5 of this file. This is different from directly computing md5 of a string.
<h4>MagmaUTWelcome()</h4>
Prints the Magma-UT welcome message.
<h4>MakeDirectory(dir::MonStgElt)</h4>
Create directory dir. Raises no error if it already exists.
<h4>MakePath(X::SeqEnum[MonStgElt]) -> MonStgElt</h4>
Concatenates the components of X with the current directory separator.
<h4>MakeURL(X::SeqEnum[MonStgElt]) -> MonStgElt</h4>
Concatenates the components of X with the Unix separator /.
<h4>MediaWiki(A::Mtrx, L::MonStgElt : ColHeader:=[], RowHeader:=[], Legend:="", ScrollingTable:=false) -> MonStgElt</h4>
Produce MediaWiki code to typeset A as a table. The Magma printing level can be specified with L. If ScrollingTable is set to true, code for this MediaWiki extension will be produced.
<h4>MediaWiki(X::SeqEnum[SeqEnum], L::MonStgElt : ColHeader:=[], RowHeader:=[], Legend:="", ScrollingTable:=false) -> MonStgElt</h4>
Produce MediaWiki code to typeset X as a table. The Magma printing level can be specified with L. If ScrollingTable is set to true, code for this MediaWiki extension will be produced.
<h4>Message() -> Message_t</h4>
Create new message object.
<h4>MoveFile(target::MonStgElt, dest::MonStgElt)</h4>
Moves file.
<h4>Print(D::Dict)</h4>
<h4>PrintCentered(msg::SeqEnum[MonStgElt] : MaxWidth:=0)</h4>
Print the array of strings aligned centrally.
<h4>PrintMessage(M::Message_t : Debug:=0)</h4>
Prints the message set in M.
<h4>PrintMessage(M::Message_t, msg::MonStgElt)</h4>
Sets msg to message of M and prints it.
<h4>PrintPercentage(M::Message_t, msg::MonStgElt, value::RngIntElt, final::RngIntElt : Precision:=2)</h4>
Sets message of M to percentage value/final*100 and prints it.
<h4>Pushover(msg::MonStgElt)</h4>
Sends a notification via Pushover.
<h4>RandomString(n::RngIntElt : Unit:="B", Method:="OpenSSL") -> MonStgElt</h4>
Returns a random string of size n (using openssl). Unit can be one of B, kB, MB, GB, KiB, MiB, GiB.
<h4>ReadBinary(F::MonStgElt) -> MonStgElt</h4>
<h4>ReadCompressed(F::MonStgElt) -> MonStgElt</h4>
Decompresses the gzip compressed file F and reads the data.
<h4>ReattachPackage(pkgname::MonStgElt)</h4>
<h4>RemoveCharacter(str::MonStgElt, chr::MonStgElt) -> MonStgElt</h4>
Removes the character chr from str. This has the same features as the ReplaceCharacters intrinsic.
<h4>RemoveNewline(str::MonStgElt) -> MonStgElt</h4>
Removes newline \n from str.
<h4>RemoveSpace(str::MonStgElt) -> MonStgElt</h4>
Removes all space characters (whitespace, newlines, etc.).
<h4>RemoveWhitespace(str::MonStgElt) -> MonStgElt</h4>
Removes whitespace from str.
<h4>Replace(str::MonStgElt, reg::MonStgElt, rep::MonStgElt) -> MonStgElt</h4>
Replaces all occurences of the regular expression reg by rep in the string str using the tool sed. See https://en.wikipedia.org/wiki/Sed. This should have the same behavior under Unix and under Windows. But sed can behave strangely and also differently on different systems (e.g., newlines), so better be careful here and test your code.
<h4>ReplaceCharacter(str::MonStgElt, chr1::MonStgElt, chr2::MonStgElt) -> MonStgElt</h4>
Replaces the characters in chr1 by the characters in chr2 in the string str. This uses the tr tool and also supports character classes. Both chr1 and chr2 will be surrounded by quotation marks "" for the tr call, so they have to be escaped respectively. As an example, to replace a backslash \ you need to enter \\\\\\\\, yes 8 backslashes: this becomes four backslashes \\\\ when sent to tr and this is interpreted as an escaped backslash. But the behavior under Unix and Windows is the same. See https://en.wikipedia.org/wiki/Tr_(Unix) and http://pubs.opengroup.org/onlinepubs/9699919799/utilities/tr.html. 
<h4>SQLiteQuery(file::MonStgElt, query::MonStgElt) -> BoolElt, MonStgElt</h4>
Executes query on the sqlite database specified by file.
<h4>SaveToDatabase(key::SeqEnum[MonStgElt], X::., ext::MonStgElt : Overwrite:=false, Description:="")</h4>
Save object (given as evaluateable string) to database.
<h4>Set(~D::Dict, key::., x::.)</h4>
<h4>SetBackCursor(n::RngIntElt)</h4>
Sets back the curser by n characters.
<h4>SetObjectFileExtension(~dbrec::Rec, ext::MonStgElt)</h4>
<h4>Sleep(n::FldReElt)</h4>
Sleep n seconds.
<h4>Sleep(n::RngIntElt)</h4>
Sleep n seconds.
<h4>StringToCodes(str::MonStgElt) -> SeqEnum</h4>
The (ASCII) code sequence of the string str.
<h4>SystemCall(Command::MonStgElt : ChunkSize:=0) -> MonStgElt</h4>
Call system command "Command" and return output.
<h4>URLExists(url::MonStgElt) -> BoolElt</h4>
Returns true iff url exists (request returns 200 OK).
<h4>UnixFilename(f::MonStgElt) -> MonStgElt</h4>
Replaces Windows \ by Unix /.
<h4>UnixTimeStamp() -> RngIntElt</h4>
The current unix timestamp (returned as an integer).
<h4>View(x::.)</h4>
View Sprint(x) in an external text editor.
<h4>View(x::., L::MonStgElt)</h4>
View Sprint(x,L) in an external text editor.
<h4>WindowsFilename(f::MonStgElt) -> MonStgElt</h4>
Replaces Unix / by Windows \.
<h4>WriteBinary(F::MonStgElt, x::. : Overwrite:=false)</h4>
<h4>WriteBinary(F::MonStgElt, x::., L::MonStgElt : Overwrite:=false)</h4>
<h4>WriteCompressed(F::MonStgElt, X::. : Level:=0)</h4>
Saves X compressed with gzip to the file F.
</body></html>